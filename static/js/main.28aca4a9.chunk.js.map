{"version":3,"sources":["components/searchBar/Search.js","components/appRecommendation/RecommendItem.js","components/appRecommendation/AppRecommendation.js","components/appListing/ListItem.js","components/appListing/AppListing.js","components/searchResult/ResultItem.js","components/searchResult/SearchResult.js","components/Dashboard.js","actions/actions.js","actions/types.js","reducers/rootReducer.js","reducers/index.js","store.js","App.js","index.js"],"names":["Search","handleOnChange","e","props","handleSearchEvent","target","name","value","className","type","placeholder","this","searchInput","onChange","Component","RecommendItem","listItem","src","appIcon","alt","genre","AppRecommendation","list","recommendedList","map","key","id","ListItem","order","imageClass","style","minWidth","margin","width","rating","starPercentage","Math","round","getRatings","starRating","color","userCount","AppListing","appList","ResultItem","item","SearchResult","filteredList","filter","dataObj","index","findIndex","obj","JSON","stringify","Dashboard","state","startPoint","currentItem","scrolling","loadMore","setState","fetchAppList","fetchRecommended","scrollListener","window","addEventListener","innerHeight","scrollY","document","body","offsetHeight","loaded","concat","indexOf","author","borderColor","mapDispatch","dispatch","axios","get","then","res","data","feed","results","recommendedApp","artworkUrl100","genres","artistName","recommendedApps","payload","catch","err","console","log","num","app","parseInt","appIds","listedApp","trackId","trackName","averageUserRating","userRatingCount","listedApps","connect","rootRD","initialState","rootReducer","action","combineReducers","serializedState","localStorage","getItem","parse","loadFromLocalStorage","middleware","thunk","store","createStore","applyMiddleware","logger","subscribe","setItem","saveTolocalStorage","getState","App","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.28aca4a9.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport './Search.css';\n\nclass Search extends Component {\n  handleOnChange = (e) => {\n    this.props.handleSearchEvent(e.target.name, e.target.value);\n  }\n\n  render() {\n    return (\n      <div className='search-container'>\n        <input\n          className='searchbar'\n          type=\"text\"\n          placeholder='&#xF002; 搜尋'\n          name=\"searchInput\"\n          value={this.props.searchInput}\n          onChange={this.handleOnChange}\n        />\n      </div>\n    )\n  }\n}\n\nexport default Search;\n\n","import React from 'react';\nimport './RecommendItem.css';\n\nconst RecommendItem = ({ listItem }) => {\n  //console.log(listItem);\n  return (\n    <div className=\"item\">\n      <img src={listItem.appIcon} alt=''/>\n      <div className='appName'>{listItem.name}</div>\n      <div className='grey-text'>{listItem.genre}</div>\n    </div>\n  )\n}\n\nexport default RecommendItem;\n","import React from 'react';\nimport RecommendItem from './RecommendItem';\nimport './AppRecommendation.css';\n\nconst AppRecommendation = ({ recommendedList }) => {\n  //console.log(\"Marker label: \",recommendedList);\n  const list = recommendedList.map(listItem => (\n    <RecommendItem key={listItem.id} listItem={listItem} />\n  ));\n\n  return (\n    <div>\n      <h3>推介</h3>\n      <div className=\"recommendation-container\"> \n        {list}\n      </div>\n    </div>\n  )\n}\n\nexport default AppRecommendation;\n","import React from 'react';\nimport './ListItem.css';\n\nconst ListItem = ({ listItem, order }) => {\n\n  let imageClass = order % 2 === 0 ? ('listImage' + ' circle') : 'listImage';\n\n  const getRatings = (rating) => {\n    // Get percentage\n    const starPercentage = (rating / 5) * 100;\n    // Round to nearest 10\n    const starPercentageRounded = `${Math.round(starPercentage / 10) * 10}%`;\n    // Set width of stars-inner to percentage\n    return starPercentageRounded;\n  }\n\n  return (\n    <div id=\"appItem\">\n      <div className='order' style={{minWidth: '40px',\n  margin: 'auto 5px'}}>{order}</div>\n      <div style={{ margin: \"auto 0\" }}>\n        <img src={listItem.appIcon} alt='' className={imageClass} />\n      </div>\n      <div style={{ margin: \"auto 0\" }}>\n        <ul className='listUl'>\n          <li ><div>{listItem.name}</div></li>\n          <li className='liGenre'>{listItem.genre}</li>\n          <li >\n            <div className=\"stars-outer\">\n              <div className=\"stars-inner\" style={{width:`${getRatings(listItem.starRating)}`}}></div>\n            </div> {}\n            {/* {listItem.starRating} */}\n            <span style={{ color: 'grey' }}>({listItem.userCount})</span>\n          </li>\n        </ul>\n      </div>\n    </div>\n  )\n}\n\nexport default ListItem;\n\n\n","import React from 'react';\nimport ListItem from './ListItem';\nimport './AppListing.css';\n\nconst AppListing = ({ appList }) => {\n  //console.log(\"Marker label: \", appList);\n  let order = 0;\n  const list = appList.map(listItem => {\n    order = order+1;\n    return <ListItem key={listItem.id} listItem={listItem} order={order}/>\n  });\n\n  return (\n    <div>\n      <div className=\"appListing-container\">\n        {list}\n      </div>\n    </div>\n  )\n}\n\nexport default AppListing;\n","import React from 'react';\nimport './ResultItem.css';\n\nconst ResultItem = ({ item }) => {\n  return (\n    <div className=\"resultItem\">\n      <div style={{ margin: \"auto 0\" }}>\n        <img src={item.appIcon} className='itemImage' alt='' />\n      </div>\n      <div style={{ margin: \"auto 0\" }}>\n        <ul className='listUl'>\n          <li ><div>{item.name}</div></li>\n          <li className='liGenre'>{item.genre}</li>\n        </ul>\n      </div>\n    </div>\n  )\n}\n\nexport default ResultItem\n","import React from 'react';\nimport './SearchResult.css';\nimport ResultItem from './ResultItem';\n\nconst SearchResult = ({ filteredList }) => {\n  //remove duplicate items from recommended list and app list \n  //console.log(\"filteredList:\", filteredList.length);\n  const uniqueArray = filteredList.filter((dataObj,index) => {\n    return index === filteredList.findIndex(obj => {\n      return JSON.stringify(obj.id) === JSON.stringify(dataObj.id); //filter by obj.id\n    });\n  });\n  //console.log(\"uniqueArray:\", uniqueArray.length);\n  const list = uniqueArray.map(item => <ResultItem key={item.id} item={item} />);\n\n  return (\n    <div className=\"result-container\">\n      {list}\n    </div>\n  )\n}\n\nexport default SearchResult\n","import React, { Component } from 'react';\nimport Search from './searchBar/Search';\nimport AppRecommendation from './appRecommendation/AppRecommendation';\nimport AppListing from './appListing/AppListing';\nimport { connect } from 'react-redux';\nimport { fetchRecommended, fetchAppList } from '../actions/actions';\nimport SearchResult from './searchResult/SearchResult';\nimport Loader from 'react-loader';\n\nclass Dashboard extends Component {\n  state = {\n    startPoint: 0,\n    currentItem: 10,\n    scrolling: false,\n    searchInput: '',\n  }\n\n  loadMore = () => {\n    this.setState({\n      ...this.state,\n      currentItem: this.state.currentItem + 10,\n    }, () => (this.props.fetchAppList(this.state.currentItem))); //callback\n  }\n\n  \n\n  componentDidMount() {\n    this.props.fetchRecommended();\n    this.props.fetchAppList(this.state.currentItem);\n\n    //scroll listener: trigger load more\n    this.scrollListener = window.addEventListener('scroll', (e) => {\n      if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight && this.state.currentItem < 100 && (this.state.searchInput === '' || this.state.searchInput === null)) {\n        this.loadMore();\n      }\n    });\n  }\n\n  handleSearchEvent = (name, value) => {\n    this.setState({ [name]: value });\n  }\n\n  render() {\n    //console.log('appList: ', this.props.appList);\n    const { recommendedList, appList, loaded } = this.props;\n    const combinedList = recommendedList.concat(appList);\n    //filtered list of apps for searching\n    const filteredList = combinedList.filter((dataObj) => (\n      (dataObj.name.indexOf(this.state.searchInput) !== -1) || (dataObj.author.indexOf(this.state.searchInput) !== -1) || (dataObj.genre.indexOf(this.state.searchInput) !== -1)\n    ));\n\n    if (this.state.searchInput === '' || this.state.searchInput === null) {\n      return (\n        <div>\n          <Search\n            searchInput={this.state.searchInput}\n            handleSearchEvent={this.handleSearchEvent}\n          />\n          <hr style={{ borderColor: 'white' }} />\n          <Loader loaded={loaded}>\n            <AppRecommendation recommendedList={recommendedList} />\n            <hr style={{ borderColor: 'white' }} />\n            <AppListing id='appListing' appList={appList} />\n          </Loader>\n        </div>\n      )\n    } else {\n      return (\n        <div>\n          <Search\n            searchInput={this.state.searchInput}\n            handleSearchEvent={this.handleSearchEvent}\n          />\n          <hr style={{ borderColor: 'white' }} />\n          <SearchResult filteredList={filteredList} />\n        </div>\n      )\n    }\n  }\n}\n\nconst mapState = (state) => {\n  //console.log(state);\n  return {\n    recommendedList: state.rootRD.recommendedList,\n    appList: state.rootRD.appList,\n    loaded: state.rootRD.loaded,\n  }\n}\n\nconst mapDispatch = {\n  fetchRecommended: fetchRecommended,\n  fetchAppList: fetchAppList,\n}\n\nexport default connect(mapState, mapDispatch)(Dashboard);\n","import { FETCH_RECOMMENDED, FETCH_APPLIST } from './types';\nimport axios from 'axios';\n\n//console.log(\"axios: \", res.data.feed.results);\nexport const fetchRecommended = () => dispatch => {\n  axios.get('https://cors-anywhere.herokuapp.com/https://rss.itunes.apple.com/api/v1/hk/ios-apps/top-grossing/all/10/explicit.json')\n    .then(res => res.data.feed.results.map(recommendedApp => (\n      {\n        id: `${recommendedApp.id}`,\n        name: `${recommendedApp.name}`,\n        appIcon: `${recommendedApp.artworkUrl100}`,\n        genre: `${recommendedApp.genres[0].name}`,\n        author: `${recommendedApp.artistName}`\n      }\n    ))).then(recommendedApps => dispatch({\n      type: FETCH_RECOMMENDED,\n      payload: recommendedApps\n    }))\n    .catch(err => console.log('fetchRecommended: ', err))\n}\n\nexport const fetchAppList = (num) => dispatch => {\n  axios.get(`https://cors-anywhere.herokuapp.com/https://rss.itunes.apple.com/api/v1/hk/ios-apps/top-free/all/${num}/explicit.json`)\n    //get all apps'id in form of int array which return from 'map' by default\n    .then(res => res.data.feed.results.map(app => (parseInt(app.id))))\n    .then(appIds => axios.get(`https://cors-anywhere.herokuapp.com/https://itunes.apple.com/hk/lookup?id=${appIds}`))\n    .then(res => res.data.results.map(listedApp => (\n      {\n        id: `${listedApp.trackId}`,\n        name: `${listedApp.trackName}`,\n        appIcon: `${listedApp.artworkUrl100}`,\n        genre: `${listedApp.genres[0]}`,\n        author: `${listedApp.artistName}`,\n        starRating: `${listedApp.averageUserRating}`,\n        userCount: `${listedApp.userRatingCount}`\n      }\n    )))\n    //.then(results => console.log('results: ', results))\n    .then(listedApps => dispatch({\n      type: FETCH_APPLIST,\n      payload: listedApps\n    }))\n    .catch(err => console.log('fetchAppList: ', err))\n}\n\n","export const FETCH_RECOMMENDED = 'FETCH_RECOMMENDED';\nexport const FETCH_APPLIST = 'FETCH_APPLIST';\n\n\n","import { FETCH_RECOMMENDED, FETCH_APPLIST } from '../actions/types';\n\nconst initialState = {\n  recommendedList: [],\n  appList: [],\n  loaded: false,  // react loader\n};\n\nconst rootReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case FETCH_RECOMMENDED:\n      return {\n        ...state,\n        recommendedList: action.payload,\n        loaded: true\n      };\n    case FETCH_APPLIST:\n      return {\n        ...state,\n        appList: action.payload,\n        loaded: true\n      };\n    default:\n      return state;\n  }\n}\n\nexport default rootReducer;","import {combineReducers} from 'redux';\nimport rootReducer from './rootReducer';\n\nexport default combineReducers({\n  rootRD: rootReducer,\n});\n","import { createStore, applyMiddleware } from 'redux';\nimport logger from 'redux-logger';\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducers';\n\nconst saveTolocalStorage = (state) => {\n  try {\n    const serializedState = JSON.stringify(state);\n    localStorage.setItem('state', serializedState);\n  } catch (err) {\n    console.log('saveTolocalStorage error: ', err);\n  }\n}\n\nconst loadFromLocalStorage = () => {\n  try {\n    const serializedState = localStorage.getItem('state');\n    \n    if (serializedState === null ) return undefined;\n    return JSON.parse(serializedState);\n\n  } catch (err) {\n    console.log('loadFromLocalStorage error: ', err);\n    return undefined;\n  }\n}\n\nconst initialState = loadFromLocalStorage(); //persisted state\nconst middleware = [thunk];\n\nconst store = createStore(\n  rootReducer,\n  initialState,\n  applyMiddleware(...middleware, logger)\n);\n\n//update local storage whenever state changes\nstore.subscribe(() => saveTolocalStorage(store.getState()));\n\nexport default store;","import React from 'react';\nimport './App.css';\nimport Dashboard from './components/Dashboard';\nimport { Provider } from 'react-redux';\nimport store from './store';\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <div className=\"App\">\n        <Dashboard />\n      </div>\n    </Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}