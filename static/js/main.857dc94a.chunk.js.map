{"version":3,"sources":["components/searchBar/Search.js","components/appRecommendation/RecommendItem.js","components/appRecommendation/AppRecommendation.js","components/appListing/ListItem.js","components/appListing/AppListing.js","components/searchResult/ResultItem.js","components/searchResult/SearchResult.js","components/Dashboard.js","actions/actions.js","actions/types.js","reducers/rootReducer.js","reducers/index.js","store.js","App.js","index.js"],"names":["Search","handleOnChange","e","props","handleSearchEvent","target","name","value","className","type","placeholder","this","searchInput","onChange","Component","RecommendItem","listItem","src","appIcon","alt","genre","AppRecommendation","list","recommendedList","map","key","id","ListItem","order","imageClass","userCount","style","display","flexDirection","justifyContent","margin","width","rating","starPercentage","Math","round","getRatings","starRating","color","AppListing","appList","ResultItem","item","SearchResult","filteredList","filter","dataObj","index","findIndex","obj","JSON","stringify","Dashboard","state","startPoint","currentItem","isFirstTime","handleScroll","isScrolling","console","log","window","innerHeight","scrollY","document","body","offsetHeight","loadMore","getElementById","setIsScrolling","setState","fetchAppList","fetchRecommended","scrollListener","addEventListener","loaded","concat","toLowerCase","indexOf","author","borderColor","mapDispatch","dispatch","axios","get","then","res","data","feed","results","recommendedApp","artworkUrl100","genres","artistName","recommendedApps","payload","catch","err","num","app","parseInt","appIds","listedApp","trackId","trackName","averageUserRating","userRatingCount","listedApps","connect","rootRD","initialState","rootReducer","action","combineReducers","serializedState","localStorage","getItem","parse","loadFromLocalStorage","middleware","thunk","store","createStore","applyMiddleware","logger","subscribe","setItem","saveTolocalStorage","getState","App","ReactDOM","render"],"mappings":"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","file":"static/js/main.857dc94a.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport './Search.scss';\n\nclass Search extends Component {\n  handleOnChange = (e) => {\n    this.props.handleSearchEvent(e.target.name, e.target.value);\n  }\n\n  render() {\n    return (\n      <div className='search-container'>\n        <input\n          className='searchbarInput'\n          type=\"text\"\n          placeholder='&#xF002; 搜尋'\n          name=\"searchInput\"\n          value={this.props.searchInput}\n          onChange={this.handleOnChange}\n        />\n      </div>\n    )\n  }\n}\n\nexport default Search;\n\n","import React from 'react';\nimport './RecommendItem.scss';\n\nconst RecommendItem = ({ listItem }) => {\n  //console.log(listItem);\n  return (\n    <div className=\"item\">\n      <img src={listItem.appIcon} alt=''/>\n      <div className='appName'>{listItem.name}</div>\n      <div className='grey-text'>{listItem.genre}</div>\n    </div>\n  )\n}\n\nexport default RecommendItem;\n","import React from 'react';\nimport RecommendItem from './RecommendItem';\nimport './AppRecommendation.scss';\n\nconst AppRecommendation = ({ recommendedList }) => {\n  //console.log(\"Marker label: \",recommendedList);\n  const list = recommendedList.map(listItem => (\n    <RecommendItem key={listItem.id} listItem={listItem} />\n  ));\n\n  return (\n    <div>\n      <h3>推介</h3>\n      <div className=\"recommendation-container\"> \n        {list}\n      </div>\n    </div>\n  )\n}\n\nexport default AppRecommendation;\n","import React from 'react';\nimport './ListItem.scss';\n\nconst ListItem = ({ listItem, order }) => {\n\n  let imageClass = order % 2 === 0 ? ('listImage' + ' circle') : 'listImage';\n  const userCount = listItem.userCount === 'undefined' ? 0:listItem.userCount;\n\n  const getRatings = (rating) => {\n    // Get percentage\n    const starPercentage = (rating / 5) * 100;\n    // Round to nearest 10\n    const starPercentageRounded = `${Math.round(starPercentage / 10) * 10}%`;\n    // Set width of stars-inner to percentage\n    return starPercentageRounded;\n  }\n\n  const listItemStyle = {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'flexStart'\n  }\n\n  return (\n    <div className='appItem' style={listItemStyle}>\n      <div className='order'>{order}</div>\n      <div style={{ margin: \"auto 0\" }}>\n        <img src={listItem.appIcon} alt='' className={imageClass} />\n      </div>\n      <div style={{ margin: \"auto 0\" }}>\n        <ul className='listUl'>\n          <li ><div>{listItem.name}</div></li>\n          <li className='liGenre'>{listItem.genre}</li>\n          <li >\n            <div className=\"stars-outer\">\n              <div className=\"stars-inner\" style={{ width: `${getRatings(listItem.starRating)}` }}></div>\n            </div> {}\n            {/* {listItem.starRating} */}\n            <span style={{ color: 'grey' }}>({userCount})</span>\n          </li>\n        </ul>\n      </div>\n    </div>\n  )\n}\n\nexport default ListItem;\n\n\n","import React from 'react';\nimport ListItem from './ListItem';\n\nconst AppListing = ({ appList }) => {\n  //console.log(\"Marker label: \", appList);\n  let order = 0;\n  const list = appList.map(listItem => {\n    order = order+1;\n    return <ListItem key={listItem.id} listItem={listItem} order={order}/>\n  });\n\n  return (\n    <div>\n      <div>\n        {list}\n      </div>\n    </div>\n  )\n}\n\nexport default AppListing;\n","import React from 'react';\nimport './ResultItem.scss';\n\nconst ResultItem = ({ item }) => {\n  return (\n    <div className=\"resultItem\">\n      <div style={{ margin: \"auto 0\" }}>\n        <img src={item.appIcon} className='itemImage' alt='' />\n      </div>\n      <div style={{ margin: \"auto 0\" }}>\n        <ul className='listResultUl'>\n          <li ><div>{item.name}</div></li>\n          <li className='liGenre'>{item.genre}</li>\n        </ul>\n      </div>\n    </div>\n  )\n}\n\nexport default ResultItem\n","import React from 'react';\nimport './SearchResult.scss';\nimport ResultItem from './ResultItem';\n\nconst SearchResult = ({ filteredList }) => {\n  //remove duplicate items from recommended list and app list \n  //console.log(\"filteredList:\", filteredList.length);\n  const uniqueArray = filteredList.filter((dataObj,index) => {\n    return index === filteredList.findIndex(obj => {\n      return JSON.stringify(obj.id) === JSON.stringify(dataObj.id); //filter by obj.id\n    });\n  });\n  //console.log(\"uniqueArray:\", uniqueArray.length);\n  const list = uniqueArray.map(item => <ResultItem key={item.id} item={item} />);\n\n  return (\n    <div className=\"result-container\">\n      {list}\n    </div>\n  )\n}\n\nexport default SearchResult\n","import React, { Component } from 'react';\nimport Search from './searchBar/Search';\nimport AppRecommendation from './appRecommendation/AppRecommendation';\nimport AppListing from './appListing/AppListing';\nimport { connect } from 'react-redux';\nimport { fetchRecommended, fetchAppList, setIsScrolling } from '../actions/actions';\nimport SearchResult from './searchResult/SearchResult';\nimport Loader from 'react-loader';\n\nclass Dashboard extends Component {\n  state = {\n    startPoint: 0,\n    currentItem: 10,\n    isFirstTime: true,\n    searchInput: '',\n  }\n\n  handleScroll = (e) => {\n    if(this.props.isScrolling) {\n      console.log(\"is Scrolling, return\");\n      return;\n    } else if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight && this.state.currentItem < 100 && (this.state.searchInput === '' || this.state.searchInput === null)) {\n      this.loadMore();\n    } else if (this.state.currentItem >= 100 && (this.state.searchInput === '' || this.state.searchInput === null)) {\n      document.getElementById('loading').style.display = 'none';\n    }\n  }\n\n  loadMore = () => {\n    document.getElementById('loading').style.display = 'block';\n    this.props.setIsScrolling();\n\n    this.setState({\n      //currentItem: this.state.isFirstTime ? this.state.currentItem : this.state.currentItem + 10,\n      //isFirstTime: false,\n      currentItem: this.state.currentItem + 10\n    }, () => {\n      this.props.fetchAppList(this.state.currentItem);\n    }); //callback \n  }\n\n  componentDidMount() {\n    this.props.fetchRecommended();\n    this.props.fetchAppList(this.state.currentItem);\n\n    //scroll listener: trigger load more    \n    //modification: an isScrolling flag is added to prevent multiple triggers for fetching app listing\n    this.scrollListener = window.addEventListener('scroll', (e) => {\n      this.handleScroll(e);\n    });\n  }\n\n\n  handleSearchEvent = (name, value) => {\n    this.setState({ [name]: value });\n  }\n\n  render() {\n    //console.log('appList: ', this.props.appList);\n    const { recommendedList, appList, loaded } = this.props;\n    const combinedList = recommendedList.concat(appList);\n\n    //filtered list of apps for searching   //toLowerCase() for case insensive checking, no extra array or data mutate\n    const filteredList = combinedList.filter((dataObj) => (\n      (dataObj.name.toLowerCase().indexOf(this.state.searchInput.toLowerCase()) !== -1) || (dataObj.author.toLowerCase().indexOf(this.state.searchInput.toLowerCase()) !== -1) || (dataObj.genre.toLowerCase().indexOf(this.state.searchInput.toLowerCase()) !== -1)\n    ));\n\n    if (this.state.searchInput === '' || this.state.searchInput === null) {\n      return (\n        <div>\n          <Search\n            searchInput={this.state.searchInput}\n            handleSearchEvent={this.handleSearchEvent}\n          />\n          <hr style={{ borderColor: 'white' }} />\n          <Loader loaded={loaded} >   {/* loading */}\n            <AppRecommendation recommendedList={recommendedList} />\n            <hr style={{ borderColor: 'white' }} />\n            <AppListing id='appListing' appList={appList} />\n          </Loader>\n          <div id='loading' style={{ display: 'none' }}>\n            <div className=\"fa-3x\">         {/* Font awesome 5 free */}\n              <i className=\"fas fa-spinner fa-pulse\"></i>\n            </div>\n          </div>\n        </div>\n      )\n    } else {\n      return (\n        <div>\n          <Search\n            searchInput={this.state.searchInput}\n            handleSearchEvent={this.handleSearchEvent}\n          />\n          <hr style={{ borderColor: 'white' }} />\n          <SearchResult filteredList={filteredList} />\n        </div>\n      )\n    }\n  }\n}\n\nconst mapState = (state) => {\n  //console.log(state);\n  return {\n    recommendedList: state.rootRD.recommendedList,\n    appList: state.rootRD.appList,\n    loaded: state.rootRD.loaded,\n    isScrolling: state.rootRD.isScrolling\n  }\n}\n\nconst mapDispatch = {\n  fetchRecommended: fetchRecommended,\n  fetchAppList: fetchAppList,\n  setIsScrolling: setIsScrolling\n}\n\nexport default connect(mapState, mapDispatch)(Dashboard);\n","import { FETCH_RECOMMENDED, FETCH_APPLIST, SET_SCROLLING_FALSE, SET_SCROLLING_TRUE } from './types';\nimport axios from 'axios';\n\n//console.log(\"axios: \", res.data.feed.results);\nexport const fetchRecommended = () => dispatch => {\n  axios.get('https://cors-anywhere.herokuapp.com/https://rss.itunes.apple.com/api/v1/hk/ios-apps/top-grossing/all/10/explicit.json')\n    .then(res => res.data.feed.results.map(recommendedApp => (\n      {\n        id: `${recommendedApp.id}`,\n        name: `${recommendedApp.name}`,\n        appIcon: `${recommendedApp.artworkUrl100}`,\n        genre: `${recommendedApp.genres[0].name}`,\n        author: `${recommendedApp.artistName}`\n      }\n    ))).then(recommendedApps => dispatch({\n      type: FETCH_RECOMMENDED,\n      payload: recommendedApps\n    }))\n    .catch(err => console.log('fetchRecommended: ', err))\n}\n\nexport const fetchAppList = (num) => dispatch => {\n  axios.get(`https://cors-anywhere.herokuapp.com/https://rss.itunes.apple.com/api/v1/hk/ios-apps/top-free/all/${num}/explicit.json`)\n    //get all apps'id in form of int array which return from 'map' by default\n    .then(res => res.data.feed.results.map(app => (parseInt(app.id))))\n    .then(appIds => axios.get(`https://cors-anywhere.herokuapp.com/https://itunes.apple.com/hk/lookup?id=${appIds}`))\n    .then(res => res.data.results.map(listedApp => (\n      {\n        id: `${listedApp.trackId}`,\n        name: `${listedApp.trackName}`,\n        appIcon: `${listedApp.artworkUrl100}`,\n        genre: `${listedApp.genres[0]}`,\n        author: `${listedApp.artistName}`,\n        starRating: `${listedApp.averageUserRating}`,\n        userCount: `${listedApp.userRatingCount}`\n      }\n    )))\n    //.then(results => console.log('results: ', results))\n    .then(listedApps => {\n      dispatch({\n        type: FETCH_APPLIST,\n        payload: listedApps\n      });\n      dispatch({\n        type: SET_SCROLLING_FALSE,\n        payload: false\n      })\n    })\n    .catch(err => console.log('fetchAppList: ', err))\n}\n\nexport const setIsScrolling = () => ({\n  type: SET_SCROLLING_TRUE,\n  payload: true\n})","export const FETCH_RECOMMENDED = 'FETCH_RECOMMENDED';\nexport const FETCH_APPLIST = 'FETCH_APPLIST';\nexport const SET_SCROLLING_FALSE = 'SET_SCROLLING_FALSE';\nexport const SET_SCROLLING_TRUE = 'SET_SCROLLING_TRUE';\n\n\n","import { FETCH_RECOMMENDED, FETCH_APPLIST, SET_SCROLLING_FALSE, SET_SCROLLING_TRUE } from '../actions/types';\n\nconst initialState = {\n  recommendedList: [],\n  appList: [],\n  loaded: false,  // react loader\n  isScrolling: false\n};\n\nconst rootReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case FETCH_RECOMMENDED:\n      return {\n        ...state,\n        recommendedList: action.payload,\n        loaded: true\n      };\n    case FETCH_APPLIST:\n      return {\n        ...state,\n        appList: action.payload,\n        loaded: true\n      };\n    case SET_SCROLLING_FALSE:\n      return {\n        ...state,\n        isScrolling: action.payload //reset to false\n      };\n    case SET_SCROLLING_TRUE:\n      return {\n        ...state,\n        isScrolling: action.payload //set to true\n      };\n    default:\n      return state;\n  }\n}\n\nexport default rootReducer;","import {combineReducers} from 'redux';\nimport rootReducer from './rootReducer';\n\nexport default combineReducers({\n  rootRD: rootReducer,\n});\n","import { createStore, applyMiddleware } from 'redux';\nimport logger from 'redux-logger';\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducers';\n\nconst saveTolocalStorage = (state) => {\n  try {\n    const serializedState = JSON.stringify(state);\n    localStorage.setItem('state', serializedState);\n  } catch (err) {\n    console.log('saveTolocalStorage error: ', err);\n  }\n}\n\nconst loadFromLocalStorage = () => {\n  try {\n    const serializedState = localStorage.getItem('state');\n    \n    if (serializedState === null ) return undefined;\n    return JSON.parse(serializedState);\n\n  } catch (err) {\n    console.log('loadFromLocalStorage error: ', err);\n    return undefined;\n  }\n}\n\nconst initialState = loadFromLocalStorage(); //persisted state\nconst middleware = [thunk];\n\nconst store = createStore(\n  rootReducer,\n  initialState,\n  applyMiddleware(...middleware, logger)\n);\n\n//update local storage whenever state changes\nstore.subscribe(() => saveTolocalStorage(store.getState()));\n\nexport default store;","import React from 'react';\nimport './App.scss';\nimport Dashboard from './components/Dashboard';\nimport { Provider } from 'react-redux';\nimport store from './store';\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <div className=\"App\">\n        <Dashboard />\n      </div>\n    </Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}